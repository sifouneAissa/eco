import{f as i,a as e,k as p,t as o,j as n,F as f,l as b,e as a,D as _,o as l,n as h}from"./app.af699bdb.js";import{_ as y}from"./_plugin-vue_export-helper.cdc0426e.js";const v={props:["models","card_class"],created(){this.models&&this.models.length&&(this.setSelectedAddress(this.models[0]),this.selectedA=this.models[0]),this.add=this.selectedA===null},data(){return{submited:!1,selectedA:null,sModels:this.models?this.models:[],add_form:{address_line_1:"",address_line_2:"",city:"",postal_code:"",country:"",mobile:"",telephone:"",toCreate:!0},errors:{address_line_1:this.$t("errors.correct_field"),address_line_2:this.$t("errors.correct_field"),city:this.$t("errors.correct_field"),postal_code:this.$t("errors.correct_field"),country:this.$t("errors.correct_field"),mobile:this.$t("errors.mobile"),telephone:this.$t("errors.telephone")},add:!1}},computed:{vData:function(){return this.isText(this.add_form.address_line_1)&&this.isText(this.add_form.address_line_2)&&this.isText(this.add_form.city)&&this.isText(this.add_form.country)&&this.isPhone(this.add_form.mobile)&&this.isPhone(this.add_form.telephone)&&this.postalCode()},showAdd:function(){return!this.sModels.filter(function(s){return s.toCreate}).length}},methods:{isPhone:function(s){return s.match(/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/g)},isText:function(s){return s.length>2},postalCode:function(){return this.add_form.postal_code.match(/^[0-9]{5}(?:-[0-9]{4})?$/)},setSelectedAddress(s){this.submited=s.toCreate===!0,(!s.toCreate||s.toCreate&&this.vData)&&(this.selectedA=s,s.toCreate&&(this.showAdd&&this.sModels.push(s),this.add=!1),this.$emit("SetSelectedAddress",s))}}},g={id:"address",class:"bg-white rounded shadow-sm p-4 mb-4"},k={class:"mb-1"},C={class:"mb-3 text-black-50"},x={class:"row"},A={class:"bg-white card addresses-item"},w={class:"gold-members p-4"},T={class:"media"},V=e("div",{class:"mr-3"},[e("i",{class:"icofont-location-pin icofont-3x"})],-1),q={class:"media-body"},S={class:"mb-1 text-secondary"},U={class:"mb-0 text-black font-weight-bold"},D=["onClick"],M={key:0,class:"mb-0 text-black font-weight-bold"},P={key:0,class:"modal-content"},j={class:"modal-header"},B={class:"modal-title",id:"add-address"},N={class:"modal-body"},F={class:"form-row"},z={class:"form-group col-md-6"},E={for:"address_line_1"},L={class:"input-group"},G=["placeholder"],H={key:0},I={class:"text-sm",style:{color:"red"}},J={class:"form-group col-md-6"},K={for:"address_line_1"},O={class:"input-group"},Q=["placeholder"],R={key:0},W={class:"text-sm",style:{color:"red"}},X={class:"form-group col-md-6"},Y={for:"city"},Z={class:"input-group"},$=["placeholder"],ee={key:0},se={class:"text-sm",style:{color:"red"}},te={class:"form-group col-md-6"},de={for:"Country"},oe={class:"input-group"},re=["placeholder"],ie={key:0},le={class:"text-sm",style:{color:"red"}},ce={class:"form-group col-md-6"},ne={for:"mobile"},ae={class:"input-group"},_e=["placeholder"],he={key:0},ue={class:"text-sm",style:{color:"red"}},me={class:"form-group col-md-6"},pe={for:"telephone"},fe={class:"input-group"},be=["placeholder"],ye={key:0},ve={class:"text-sm",style:{color:"red"}},ge={class:"form-group col-md-6"},ke={for:"postal_code"},Ce={class:"input-group"},xe=["placeholder"],Ae={key:0},we={class:"text-sm",style:{color:"red"}},Te={class:"modal-footer"};function Ve(s,r,u,qe,t,c){return l(),i("div",g,[e("div",null,[e("h4",k,[p(o(s.$t("listing.checkout_card.choose_address"))+" ",1),c.showAdd?(l(),i("button",{key:0,class:"float-right btn btn-outline-danger",onClick:r[0]||(r[0]=d=>t.add=!0)},o(s.$t("listing.checkout_card.add")),1)):n("",!0)]),e("h6",C,o(s.$t("listing.checkout_card.desc_address")),1)]),e("div",x,[(l(!0),i(f,null,b(t.sModels,d=>(l(),i("div",{key:d.mobile,class:h(u.card_class?u.card_class:"col-md-6")},[e("div",A,[e("div",w,[e("div",T,[V,e("div",q,[e("h6",S,o(d.city),1),e("p",null,o(d.address_line_1)+","+o(d.city)+","+o(d.country),1),e("p",U,[e("a",{href:"javascript: void(0)",onClick:m=>c.setSelectedAddress(d),class:h("btn btn-sm mr-2 "+(t.selectedA.id===d.id||t.selectedA.toCreate===!0&&d.toCreate?"btn-success":"btn-secondary"))},o(s.$t("listing.checkout_card.deliver_here")),11,D)]),d.toCreate?(l(),i("p",M,[e("a",{href:"javascript: void(0)",onClick:r[1]||(r[1]=m=>t.add=!0),class:h("btn btn-sm mr-2 btn-danger")},o(s.$t("listing.checkout_card.edit")),1)])):n("",!0)])])])])],2))),128))]),t.add?(l(),i("div",P,[e("div",j,[e("h5",B,o(s.$t("account.addresses.add_card.title")),1)]),e("div",N,[e("div",F,[e("div",z,[e("label",E,o(s.$t("account.addresses.add_card.address1")),1),e("div",L,[a(e("input",{required:"",type:"text","onUpdate:modelValue":r[2]||(r[2]=d=>t.add_form.address_line_1=d),class:"form-control",id:"address_line_1",placeholder:s.$t("account.addresses.add_card.address1")},null,8,G),[[_,t.add_form.address_line_1]])]),this.submited&&!c.isText(t.add_form.address_line_1)?(l(),i("div",H,[e("p",I,o(t.errors.address_line_1),1)])):n("",!0)]),e("div",J,[e("label",K,o(s.$t("account.addresses.add_card.address2")),1),e("div",O,[a(e("input",{required:"",type:"text","onUpdate:modelValue":r[3]||(r[3]=d=>t.add_form.address_line_2=d),class:"form-control",id:"address_line_2",placeholder:s.$t("account.addresses.add_card.address2")},null,8,Q),[[_,t.add_form.address_line_2]])]),this.submited&&!c.isText(t.add_form.address_line_2)?(l(),i("div",R,[e("p",W,o(t.errors.address_line_2),1)])):n("",!0)]),e("div",X,[e("label",Y,o(s.$t("account.addresses.add_card.city")),1),e("div",Z,[a(e("input",{required:"",type:"text","onUpdate:modelValue":r[4]||(r[4]=d=>t.add_form.city=d),class:"form-control",id:"city",placeholder:s.$t("account.addresses.add_card.city")},null,8,$),[[_,t.add_form.city]])]),this.submited&&!c.isText(t.add_form.city)?(l(),i("div",ee,[e("p",se,o(t.errors.city),1)])):n("",!0)]),e("div",te,[e("label",de,o(s.$t("account.addresses.add_card.country")),1),e("div",oe,[a(e("input",{required:"",type:"text","onUpdate:modelValue":r[5]||(r[5]=d=>t.add_form.country=d),class:"form-control",id:"Country",placeholder:s.$t("account.addresses.add_card.country")},null,8,re),[[_,t.add_form.country]])]),this.submited&&!c.isText(t.add_form.country)?(l(),i("div",ie,[e("p",le,o(t.errors.country),1)])):n("",!0)]),e("div",ce,[e("label",ne,o(s.$t("account.addresses.add_card.mobile")),1),e("div",ae,[a(e("input",{required:"",type:"text","onUpdate:modelValue":r[6]||(r[6]=d=>t.add_form.mobile=d),class:"form-control",id:"mobile",placeholder:s.$t("account.addresses.add_card.mobile")},null,8,_e),[[_,t.add_form.mobile]])]),this.submited&&!c.isPhone(t.add_form.mobile)?(l(),i("div",he,[e("p",ue,o(t.errors.mobile),1)])):n("",!0)]),e("div",me,[e("label",pe,o(s.$t("account.addresses.add_card.telephone")),1),e("div",fe,[a(e("input",{required:"",type:"text","onUpdate:modelValue":r[7]||(r[7]=d=>t.add_form.telephone=d),class:"form-control",id:"telephone",placeholder:s.$t("account.addresses.add_card.telephone")},null,8,be),[[_,t.add_form.telephone]])]),this.submited&&!c.isPhone(t.add_form.telephone)?(l(),i("div",ye,[e("p",ve,o(t.errors.telephone),1)])):n("",!0)]),e("div",ge,[e("label",ke,o(s.$t("account.addresses.add_card.postal_code")),1),e("div",Ce,[a(e("input",{required:"",type:"text","onUpdate:modelValue":r[8]||(r[8]=d=>t.add_form.postal_code=d),class:"form-control",id:"postal_code",placeholder:s.$t("account.addresses.add_card.postal_code")},null,8,xe),[[_,t.add_form.postal_code]])]),this.submited&&!c.postalCode()?(l(),i("div",Ae,[e("p",we,o(t.errors.postal_code),1)])):n("",!0)])]),e("div",Te,[e("button",{onClick:r[9]||(r[9]=d=>c.setSelectedAddress(this.add_form)),class:"btn d-flex w-50 text-center justify-content-center btn-primary"},o(s.$t("account.addresses.add_card.save")),1)])])])):n("",!0)])}const De=y(v,[["render",Ve]]);export{De as default};
