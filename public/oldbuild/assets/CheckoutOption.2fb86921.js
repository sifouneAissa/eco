import _ from"./chooseAddress.92fffddd.js";import y from"./choosePayment.5c2a7742.js";import g from"./ProductCarousel.8d6c2b36.js";import P from"./CartMenu.91a49b30.js";import{g as v,Q as w,f as i,a as o,b as c,j as n,c as l,C as s,o as t}from"./app.af699bdb.js";import{_ as C}from"./_plugin-vue_export-helper.cdc0426e.js";import"https://js.stripe.com/v3/";import"./ProductCard.7256275a.js";const S={components:{chooseAddress:_,choosePayment:y,ProductCarousel:g,CartMenu:P},data(){return{form:v({address_id:null,user_id:this.$page.props.auth,provider:null,paymentInfo:null,email:null})}},methods:{setSelectedAddress(e){e.toCreate?this.form.address_id=e:this.form.address_id=e.id},SelectPaymentMethod(e){const r=w();this.form.provider=e.type,this.form.paymentInfo=e.data,this.form.email=e.data.email,this.form.post(route("order.store"),{onSuccess:()=>{r.success(this.$t("notifications.success"))},onError:a=>{r.error(a.error)}})},Pay(){this.form.address_id?window.location.href=window.location.href.split("#")[0]+"#payment":window.location.href=window.location.href.split("#")[0]+"#address"}}},b={class:"offer-dedicated-body mt-4 mb-4 pt-2 pb-2"},$={class:"container"},k={class:"row"},A={class:"col-md-8"},M={class:"offer-dedicated-body-left"},B={key:0,class:"bg-white rounded shadow-sm p-4 mb-4"},N=o("div",{class:"pt-2"},null,-1),V=o("div",{class:"pt-2"},null,-1),E={class:"col-md-4"};function I(e,r,a,j,p,d){const m=s("ProductCarousel"),h=s("chooseAddress"),u=s("choosePayment"),f=s("CartMenu");return t(),i("div",null,[o("section",b,[o("div",$,[o("div",k,[o("div",A,[o("div",M,[e.$page.props.products.length!=0?(t(),i("div",B,[c(m,{models:e.$page.props.products},null,8,["models"])])):n("",!0),N,e.$page.props.shopping_session&&e.$page.props.shopping_session.citotal?(t(),l(h,{key:1,onSetSelectedAddress:d.setSelectedAddress,models:e.$page.props.addresses},null,8,["onSetSelectedAddress","models"])):n("",!0),V,e.$page.props.shopping_session&&e.$page.props.shopping_session.citotal?(t(),l(u,{key:2,form:p.form,disable:this.form.address_id===null,onSelectPaymentMethod:d.SelectPaymentMethod},null,8,["form","disable","onSelectPaymentMethod"])):n("",!0)])]),o("div",E,[c(f,{onPay:d.Pay},null,8,["onPay"])])])])])])}const H=C(S,[["render",I]]);export{H as default};
