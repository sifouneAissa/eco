import{g as u,f as i,a as t,t as o,F as f,l as h,j as l,o as r,n as _,k as g}from"./app.af699bdb.js";import{_ as m}from"./_plugin-vue_export-helper.cdc0426e.js";const b={mounted(){Echo.private("App.Models.User."+this.$page.props.auth.id).notification(s=>{this.notifications.unshift(s.notification)});var e=$("#mydrop");let n=this;$(document).click(function(s){(!$(s.target).is(e)||!$(s.target).closest("#el").length)&&n.count&&n.readall()})},data(){return{notifications:this.$page.props.notifications}},computed:{count:function(){return this.unreaded.length},unreaded:function(){return this.notifications.filter(e=>e.read_at===null)}},methods:{getOrderStatus(e){return{delivered:"confirmed",onway:"in way",instore:"received"}[e]},readall(){u().post(route("notification.readall"),{onSuccess:e=>{this.notifications=e.props.notifications}})}}},v={key:0},w={class:"nav-link dropdown-toggle",href:"#",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},y=t("i",{class:"fas fa-bell"},null,-1),k={class:"badge badge-danger badge-counter"},x={id:"mydrop",class:"dropdown-menu dropdown-cart-top p-0 dropdown-menu-right shadow-sm border-0"},N={class:"dropdown-cart-top-body border-top p-4"},S={key:0},B={class:"small text-gray-500"},F={class:"mb-2"},O=t("span",{class:"float-right text-secondary"},null,-1),V={class:"dropdown-cart-top-footer border-top p-2"},C={class:"btn btn-success btn-block btn-lg",href:"#"};function E(e,n,s,j,d,c){return e.$page.props.auth.is_admin?l("",!0):(r(),i("div",v,[t("a",w,[y,t("span",k,o(c.count),1)]),t("div",x,[t("div",N,[(r(!0),i(f,null,h(d.notifications,(a,p)=>(r(),i("div",{key:a.id},[p<6?(r(),i("div",S,[t("div",null,[t("div",B,o(a.date),1)]),t("p",F,[t("i",{class:_("icofont-ui-press food-item "+(a.read_at?"text-success":"text-danger"))},null,2),g("Order "+o("#"+a.data.info.order.id)+" is "+o(c.getOrderStatus(a.data.info.status))+" ",1),O])])):l("",!0)]))),128))]),t("div",V,[t("a",C,o(e.$t("listing.view_all"))+" "+o(d.notifications.length)+" "+o(e.$t("listing.notifications")),1)])])]))}const D=m(b,[["render",E]]);export{D as default};
