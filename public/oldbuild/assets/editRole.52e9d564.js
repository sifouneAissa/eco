import c from"./Update.1ee14483.js";import{g as u,c as f,w as _,C as m,o as b,a as e,m as h,e as r,D as v,q as d,t as l,b as g}from"./app.af699bdb.js";import{s as M}from"./vue-multiselect.esm.19a791f2.js";/* empty css                                                                 */import{_ as x}from"./_plugin-vue_export-helper.cdc0426e.js";const y={components:{Update:c,Multiselect:M},props:{model:{type:Object,default:{name:"Waiting"}}},mounted(){let o=this;$("#edit-role").on("hidden.bs.modal",function(){o.$emit("ResetModel")}),$("#"+this.model.modal_ids.edit).modal("show"),console.log(this.model)},data(){return{form:u({name:this.model.name,permissions:this.model.permissions.map(function(o){return{name:o.name,id:o.id}})}),selected:null,options:this.$page.props.permissions.map(function(o){return{name:o.name,id:o.id}})}},methods:{resetModel:function(){this.$emit("ResetModel")},submit:function(){this.form.transform(o=>({name:o.name,permissions:o.permissions.map(s=>s.id)})).patch(route("admin.role.update",{id:this.model.id}),{onFinish:()=>{},onSuccess:()=>{$("#edit-role").modal("hide"),$("#dataTable").DataTable().ajax.reload(),this.$emit("ResetModel")}})}}},w={class:"modal-body mx-3 bg"},R={class:"mb-5 form-label-group"},V={class:"form-group"},S=e("label",null,"Name",-1),U={class:"text-sm",style:{color:"red"}},k={class:"mb-5 form-label-group"},C={class:"form-group"},D=e("label",null,"Permissions",-1),N={class:"text-sm",style:{color:"red"}},B={class:"modal-footer d-flex"},T={type:"submit",class:"btn btn-warning"};function j(o,s,F,P,t,n){const a=m("multiselect"),p=m("Update");return b(),f(p,{onResetModel:n.resetModel,id:"edit-role",title:"Edit Role"},{default:_(()=>[e("div",w,[e("form",{onSubmit:s[3]||(s[3]=h((...i)=>n.submit&&n.submit(...i),["prevent"]))},[e("div",R,[e("div",V,[S,r(e("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>t.form.name=i),type:"text",class:"form-control",placeholder:"Role Name"},null,512),[[v,t.form.name]]),r(e("div",null,[e("p",U,l(t.form.errors.name),1)],512),[[d,t.form.errors.name]])])]),e("div",k,[e("div",C,[D,g(a,{modelValue:t.form.permissions,"onUpdate:modelValue":s[1]||(s[1]=i=>t.form.permissions=i),options:t.options,label:"name","track-by":"name",multiple:!0,placeholder:"Select Permissions"},null,8,["modelValue","options"]),r(e("div",null,[e("p",N,l(t.form.errors.permissions),1)],512),[[d,t.form.errors.permissions]])])]),e("div",B,[e("button",{type:"button",class:"btn btn-outline-warning",onClick:s[2]||(s[2]=(...i)=>n.resetModel&&n.resetModel(...i)),"data-dismiss":"modal"},l(o.$t("account.addresses.add_card.cancel")),1),e("button",T,l(o.$t("account.addresses.add_card.save")),1)])],32)])]),_:1},8,["onResetModel"])}const A=x(y,[["render",j]]);export{A as default};
