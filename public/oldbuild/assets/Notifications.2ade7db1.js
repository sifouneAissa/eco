import{p,g as u,f as n,a as t,t as r,F as h,l as m,o as i,n as _,j as f}from"./app.af699bdb.js";import{_ as g}from"./_plugin-vue_export-helper.cdc0426e.js";const w={mounted(){Echo.private("App.Models.User."+this.$page.props.auth.id).notification(s=>{this.notifications.unshift(s.notification)});var e=$("#mydropadmin");let a=this;$(document).click(function(s){(!$(s.target).is(e)||!$(s.target).closest("#el").length)&&a.count&&a.readall()})},data(){return{notifications:this.$page.props.notifications}},computed:{count:function(){return this.unreaded.length},unreaded:function(){return this.notifications.filter(e=>e.read_at===null)}},methods:{go:function(e){p.Inertia.visit(this.route("admin.order.show",{id:e.id}))},getOrderStatus(e){return{delivered:"confirmed",onway:"in way",instore:"received"}[e]},readall(){u().post(route("notification.readall"),{onSuccess:e=>{this.notifications=e.props.notifications}})}}},v={class:"nav-item dropdown no-arrow mx-1 osahan-list-dropdown"},b={class:"nav-link dropdown-toggle",href:"#",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},x=t("i",{class:"feather-bell"},null,-1),y={class:"badge badge-info badge-counter"},k={id:"mydropadmin",class:"dropdown-list dropdown-menu dropdown-menu-right shadow-sm"},A=t("h6",{class:"dropdown-header"}," Alerts Center ",-1),C=["onClick"],S=t("div",{class:"mr-3"},[t("div",{class:"icon-circle bg-primary"},[t("i",{class:"fas fa-box-open text-white"})])],-1),B={class:"small text-gray-500"},F={class:"font-weight-bold"},N=t("a",{class:"dropdown-item text-center small text-gray-500",href:"#"},"Show All Alerts",-1);function E(e,a,s,V,l,d){return i(),n("li",v,[t("a",b,[x,t("span",y,r(d.count),1)]),t("div",k,[A,(i(!0),n(h,null,m(l.notifications,(o,c)=>(i(),n("div",{key:o.id},[c<6?(i(),n("a",{key:0,onClick:j=>d.go(o.data.order),class:_("dropdown-item d-flex align-items-center "+(o.read_at?"":"bg-light")),href:"#"},[S,t("div",null,[t("div",B,r(o.date),1),t("span",F,"A new order "+r(o.data.order.order_number)+" by "+r(o.data.order.user.name),1)])],10,C)):f("",!0)]))),128)),N])])}const I=g(w,[["render",E]]);export{I as default};
